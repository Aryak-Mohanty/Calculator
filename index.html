<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Responsive Glass Calculator</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

	<style>
		/* APPLY FONT GLOBALLY */
		body {
			font-family: 'Poppins', sans-serif;
			/* Applied here */
			background: linear-gradient(135deg, #e3f2fd, #f1f8e9);
			transition: background 0.4s ease;
			min-height: 100vh;
		}

		/* Ensure form elements and buttons inherit the font explicitly */
		input,
		button,
		.btn {
			font-family: 'Poppins', sans-serif;
		}

		.calculator-container {
			width: 100%;
			border-radius: 35px;
			padding: 20px;
			background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
			color: white;
			backdrop-filter: blur(18px) saturate(180%);
			-webkit-backdrop-filter: blur(18px) saturate(180%);
			border: 1px solid rgba(255, 255, 255, 0.4);
			box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
			transition: background 0.4s ease, box-shadow 0.4s ease;
		}

		.display-box {
			height: 70px;
			font-size: 2rem;
			text-align: right;
			padding-right: 15px;
			border-radius: 15px;
			background: rgba(255, 255, 255, 0.9);
			border: none;
			margin-bottom: 1rem;
			font-weight: 500;
			/* Slightly bolder for numbers */
		}

		.btn-calc {
			height: 60px;
			font-size: 1.3rem;
			font-weight: 400;
			border-radius: 20px;
			width: 100%;
			border: none;
			transition: transform 0.15s ease, box-shadow 0.2s ease;
			outline: none !important;
		}

		/* Hover only on non-touch devices */
		@media (hover: hover) {

			.btn-calc:hover,
			.scientific-btn:hover {
				transform: translateY(-4px);
				box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
				z-index: 10;
			}
		}

		.btn-calc:active,
		.scientific-btn:active {
			transform: scale(0.95);
			box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.3);
		}

		.btn-calc:focus,
		.scientific-btn:focus {
			box-shadow: none;
		}

		.scientific-btn {
			height: 50px;
			font-size: 1.1rem;
			font-weight: 500;
			border-radius: 25px;
			min-width: 60px;
			border: none;
			flex-grow: 1;
			transition: transform 0.15s ease, box-shadow 0.2s ease;
		}

		#scientificRow {
			display: none;
			opacity: 0;
			transform: scale(0.95) translateY(-6px);
			transition: all 0.35s ease;
			max-height: 0;
			overflow: hidden;
			padding-top: 15px;
			padding-bottom: 5px;
		}

		@media (max-width: 576px) {
			.calculator-container {
				padding: 15px;
				border-radius: 25px;
			}

			.btn-calc {
				height: 55px;
				font-size: 1.2rem;
			}

			.display-box {
				font-size: 1.8rem;
			}
		}
	</style>
</head>

<body>

	<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
		<a class="navbar-brand" href="#" style="font-weight: 600;">Calculator</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<div class="ms-auto d-flex flex-column flex-lg-row gap-3 mt-3 mt-lg-0">
				<div class="form-check form-switch text-white">
					<input class="form-check-input" type="checkbox" id="modeSwitch">
					<label class="form-check-label" id="modeLabel" for="modeSwitch">Scientific: Off</label>
				</div>
				<div class="form-check form-switch text-white">
					<input class="form-check-input" type="checkbox" id="darkModeSwitch">
					<label class="form-check-label" id="themeLabel" for="darkModeSwitch">Light Mode</label>
				</div>
			</div>
		</div>
	</nav>

	<div class="container my-3 my-md-5">
		<div class="row justify-content-center">
			<div class="col-12 col-sm-8 col-md-6 col-lg-4">

				<div class="calculator-container shadow" id="calcBox">
					<input type="text" id="result" class="form-control display-box" readonly>

					<div class="row g-2" id="basicGrid">
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(1)">1</button>
						</div>
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(2)">2</button>
						</div>
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(3)">3</button>
						</div>
						<div class="col-3"><button class="btn btn-warning btn-calc text-white"
								onclick="operatorClick('+')">+</button></div>

						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(4)">4</button>
						</div>
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(5)">5</button>
						</div>
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(6)">6</button>
						</div>
						<div class="col-3"><button class="btn btn-warning btn-calc text-white"
								onclick="operatorClick('-')">-</button></div>

						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(7)">7</button>
						</div>
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(8)">8</button>
						</div>
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(9)">9</button>
						</div>
						<div class="col-3"><button class="btn btn-warning btn-calc text-white"
								onclick="operatorClick('*')">*</button></div>

						<div class="col-3"><button class="btn btn-danger btn-calc" onclick="clearClick()">C</button>
						</div>
						<div class="col-3"><button class="btn btn-light btn-calc" onclick="numberClick(0)">0</button>
						</div>
						<div class="col-3"><button class="btn btn-success btn-calc" onclick="equalClick()">=</button>
						</div>
						<div class="col-3"><button class="btn btn-warning btn-calc text-white"
								onclick="operatorClick('/')">/</button></div>
					</div>

					<div class="mt-3 d-flex flex-wrap justify-content-center gap-2" id="scientificRow">
						<button class="btn btn-info text-white scientific-btn" onclick="sinClick()">sin</button>
						<button class="btn btn-info text-white scientific-btn" onclick="cosClick()">cos</button>
						<button class="btn btn-info text-white scientific-btn" onclick="tanClick()">tan</button>
						<button class="btn btn-info text-white scientific-btn" onclick="sqrtClick()">âˆš</button>
						<button class="btn btn-info text-white scientific-btn" onclick="logClick()">log</button>
					</div>
				</div>

			</div>
		</div>
	</div>

	<script>
		const result = document.getElementById("result");

		function removeFocus() {
			if (document.activeElement instanceof HTMLElement) {
				document.activeElement.blur();
			}
		}

		function numberClick(num) {
			result.value += num;
			removeFocus();
		}
		function operatorClick(op) {
			result.value += op;
			removeFocus();
		}
		function clearClick() {
			result.value = '';
			removeFocus();
		}
		function equalClick() {
			try { result.value = eval(result.value) }
			catch { result.value = "Error" }
			removeFocus();
		}
		function sinClick() { result.value = Math.sin(eval(result.value)); removeFocus(); }
		function cosClick() { result.value = Math.cos(eval(result.value)); removeFocus(); }
		function tanClick() { result.value = Math.tan(eval(result.value)); removeFocus(); }
		function sqrtClick() { result.value = Math.sqrt(eval(result.value)); removeFocus(); }
		function logClick() { result.value = Math.log10(eval(result.value)); removeFocus(); }

		// Mode switch
		const modeSwitch = document.getElementById("modeSwitch");
		const modeLabel = document.getElementById("modeLabel");
		const scientificRow = document.getElementById("scientificRow");

		modeSwitch.addEventListener("change", () => {
			if (modeSwitch.checked) {
				scientificRow.style.display = "flex";
				requestAnimationFrame(() => {
					scientificRow.style.maxHeight = "300px";
					scientificRow.style.opacity = "1";
					scientificRow.style.transform = "scale(1) translateY(0)";
				});
				modeLabel.textContent = "Scientific: On";
			} else {
				scientificRow.style.opacity = "0";
				scientificRow.style.transform = "scale(0.9) translateY(-8px)";
				scientificRow.style.maxHeight = "0";
				setTimeout(() => {
					scientificRow.style.display = "none";
				}, 350);
				modeLabel.textContent = "Scientific: Off";
			}
		});

		// Dark / Light theme
		const darkSwitch = document.getElementById("darkModeSwitch");
		const themeLabel = document.getElementById("themeLabel");

		darkSwitch.addEventListener("change", () => {
			if (darkSwitch.checked) {
				document.body.style.background = "linear-gradient(135deg, #1f1f1f, #424242)";
				themeLabel.textContent = "Dark Mode";
			} else {
				document.body.style.background = "linear-gradient(135deg, #e3f2fd, #f1f8e9)";
				themeLabel.textContent = "Light Mode";
			}
		});
	</script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
